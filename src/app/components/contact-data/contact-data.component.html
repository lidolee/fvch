<div class="step-intro">
  <h2>Ihre Kontaktdaten</h2>
  <p>Bitte teilen Sie uns Ihre Kontaktdaten mit.</p>
</div>

<form [formGroup]="form" (ngSubmit)="finalizeOrder()">

  <fieldset>
    <legend><span>Kontaktperson</span></legend>

    <div class="mb-3 row">
      <label for="anrede" class="col-sm-4 col-form-label">Anrede</label>
      <div class="col-sm-8">
        <select class="form-select form-control border-primary-subtle"
                id="anrede"
                formControlName="salutation">
          <option value="" disabled selected>— Anrede wählen</option>
          <option *ngFor="let salutation of salutations" [value]="salutation">{{ salutation }}</option>
        </select>
        <div *ngIf="form.controls['salutation'].invalid && form.get('salutation')?.touched" class="text-danger small mt-1">
          Bitte wählen Sie eine Anrede.
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <label for="vorname" class="col-sm-4 col-form-label">Vorname Name</label>
      <div class="col-sm-8">
        <div class="input-group">
          <input id="vorname"
                 required
                 type="text"
                 class="form-control border-primary-subtle"
                 placeholder="Max"
                 formControlName="firstName">
          <input id="nachname"
                 required
                 type="text"
                 class="form-control border-primary-subtle"
                 placeholder="Mustermann"
                 formControlName="lastName">
        </div>
        <div *ngIf="form.controls['firstName'].invalid && form.controls['firstName'].touched" class="text-danger small mt-1 d-block">
          Vorname ist erforderlich.
        </div>
        <div *ngIf="form.controls['lastName'].invalid && form.controls['lastName'].touched" class="text-danger small mt-1 d-block">
          Nachname ist erforderlich.
        </div>
      </div>
    </div>
  </fieldset>

  <fieldset>
    <legend><span>Kontaktdaten</span></legend>

    <div class="mb-3 row">
      <label for="email" class="col-sm-4 col-form-label">E-Mail</label>
      <div class="col-sm-8">
        <input type="email"
               required
               id="email"
               class="form-control border-primary-subtle"
               placeholder="max.mustermann@musterfirma.ch"
               autocomplete="on"
               formControlName="email">
        <div *ngIf="form.controls['email'].invalid && form.controls['email'].touched" class="text-danger small mt-1">
          <span *ngIf="form.controls['email'].errors?.['required']">E-Mail ist erforderlich.</span>
          <span *ngIf="form.controls['email'].errors?.['email']">Bitte geben Sie eine gültige E-Mail Adresse ein.</span>
        </div>
      </div>
    </div>

    <div class="row">
      <label for="telefon" class="col-sm-4 col-form-label">Telefon</label>
      <div class="col-sm-8">
        <div class="input-group">
          <input type="tel"
                 id="telefon"
                 class="form-control"
                 placeholder="+417998761234"
                 formControlName="phone">
        </div>
      </div>
    </div>
  </fieldset>

  <fieldset>
    <legend><span>Firmenangaben</span></legend>

    <div class="mb-3 row">
      <label for="firma" class="col-sm-4 col-form-label">Firma</label>
      <div class="col-sm-8">
        <input type="text"
               id="firma"
               class="form-control"
               placeholder="Musterfirma GmbH"
               formControlName="company">
      </div>
    </div>

    <div class="mb-3 row">
      <label for="strasse" class="col-sm-4 col-form-label">Strasse & Hausnummer</label>
      <div class="col-sm-8">
        <div class="input-group">
          <input id="strasse"
                 type="text"
                 class="form-control w-75"
                 placeholder="Musterweg"
                 formControlName="street">
          <input id="hausnummer"
                 type="text"
                 class="form-control w-25"
                 placeholder="248"
                 formControlName="houseNumber">
        </div>
      </div>
    </div>

    <div class="mb-3 row">
      <label for="plz" class="col-sm-4 col-form-label">PLZ & Ort</label>
      <div class="col-sm-8">
        <div class="input-group">
          <input id="plz"
                 type="number"
                 class="form-control w-25"
                 placeholder="8001"
                 formControlName="postalCode">
          <input id="ort"
                 type="text"
                 class="form-control w-75"
                 placeholder="Zürich"
                 formControlName="city">
        </div>
      </div>
    </div>

    <div class="row">
      <label for="website" class="col-sm-4 col-form-label">Website</label>
      <div class="col-sm-8">
        <input type="url"
               id="website"
               class="form-control"
               placeholder="www.musterfirma.ch"
               formControlName="website">
      </div>
    </div>
  </fieldset>
</form>
